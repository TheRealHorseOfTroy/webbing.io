<!DOCTYPE html>
<html>
<head>
    <title>couples</title>
    <script src="quiz-builder.js"></script>
</head>
<body>
    <h1>couple the first</h1>
    <button id="next">next</button>
    <div id="formContainer"></div>
    <script src="S-stats.js"></script>

 

    <script>  const formContainer = document.getElementById('formContainer');
        const radioForm = buildQuiz(); // Use the function to build the form
        formContainer.appendChild(radioForm);
        // Add an event listener to the button
        document.getElementById("next").addEventListener("click", function() {
            const selectedKinks = [];
            // Loop through radio buttons with names in the format "kink0" to "kink246"
            for (let i = 0; i <= 246; i++) {
                const inputName = 'kink' + i;
                const checkedInput = document.querySelector(`input[name="${inputName}"]:checked`);
                
                if (checkedInput) {
                    selectedKinks.push(checkedInput.value);
                }
            }
            const kinksDataMap = {};
            const kinkNames = trimNames(selectedKinks);
            const kinkValues = trimValues(selectedKinks);

            // Assuming selectedKinks is an array of objects with kink names as keys
            for (let i = 0; i <= kinkNames.length; i++) {
                const kv = kinkValues.get(i);
                if(kv == 'like'){
                    kinksDataMap[kinkNames.get(i)] = {
                        name: kinkNames.get(i),
                        value: 2,
                        coords: Coords(kinkNames.get(i)),
                        colour: "#000000"
                    };}
                else{
                    kinksDataMap[kinkNames.get(i)] = {
                        name: kinkNames.get(i),
                        value: 1,
                        coords: Coords(kinkNames.get(i)),
                        colour: "#000000"
                    };}
            }
            sessionStorage.setItem('kinks', JSON.stringify(kinksDataMap));
            sessionStorage.setItem('selectedKinks', JSON.stringify(selectedKinks));
        
            // Navigate to the second page by replacing the current URL
            window.location.replace("Quiz_C2.html");
        });
    </script>
</body>
</html>